<html>

<head>
    <title>Data table example</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css" crossorigin="anonymous">
</head>

<body>
    <h3>data for bootstrap 4</h3>
    <p id="mess">Waiting for data... be patient</p>
    <table id="example" class="table table-striped table-bordered" style="width:100%"></table>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>

    <script>
        /* global $*/
        $(document).ready(function() {
            console.log('Jquery ready...');
            $.ajax("api/datatable")
                .done(function(data) {
                    $('#mess').html('');
                    console.log(data);
                    console.log(JSON.parse(data));
                    let dataSet = JSON.parse(data);
                    $('#example').DataTable({
                        data: dataSet,
                        columns: [
                            { title: "Name" },
                            { title: "Position" },
                            { title: "Office" },
                            { title: "Extn." },
                            { title: "Start date" },
                            { title: "Salary" }
                        ]
                    }); // end datatable config
                }); // end ajax req

        }); // end jquery ready
    </script>
</body>

</html>
